// 蠖ｹ蜑ｲ: 譛霑題・縺・◆譖ｲ縺ｮ繝ｪ繧ｹ繝郁｡ｨ遉ｺ・医さ繝｡繝ｳ繝医∈繧ｯ繧､繝・け霑ｽ蜉繝懊ち繝ｳ莉倥″・・
import React from "react";
import SongItem from "./SongItem";

export default function RecentPlayList({ tracks, onQuickAdd, onAddSelected }) {
  if (!tracks?.length) return <div>譛霑題・縺・◆譖ｲ縺後≠繧翫∪縺帙ｓ縲・/div>;
  return (
    <div className="list">
      {tracks.map(t => (
        <SongItem key={t.id} track={t} onQuickAdd={onQuickAdd} onAddSelected={onAddSelected} />
      ))}
    </div>
  );
}
import React from "react";
import SongItem from "./SongItem";

export default function RecentPlayList({ tracks, onQuickAdd, onAddSelected }) {
  const list = Array.isArray(tracks) ? tracks : [];
  if (!list.length) return <div>譛霑題・縺・◆譖ｲ縺後≠繧翫∪縺帙ｓ縲・/div>;

  // De-duplicate by track id/uri to avoid key collisions
  const seen = new Set();
  const uniq = [];
  for (const t of list) {
    const id = (t && (t.id || t.uri)) || null;
    if (id) {
      if (seen.has(id)) continue;
      seen.add(id);
    }
    uniq.push(t);
  }

  return (
    <div className="list">
      {uniq.map((t, idx) => (
        <SongItem
          key={t?.id || t?.uri || `${t?.name || 'track'}-${idx}`}
          track={t}
          onQuickAdd={onQuickAdd}
          onAddSelected={onAddSelected}
        />
      ))}
    </div>
  );
}

